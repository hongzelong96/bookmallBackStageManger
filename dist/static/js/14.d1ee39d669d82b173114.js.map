{"version":3,"sources":["webpack:///src/views/permissionCenter/permissionSizer.vue","webpack:///./src/directives/permission.js","webpack:///./src/views/permissionCenter/permissionSizer.vue?a6b1","webpack:///./src/views/permissionCenter/permissionSizer.vue"],"names":["permissionSizer","data","directives","permission","inserted","el","binding","vnode","value","roles","store","getters","Array","length","Error","permissionRoles","some","role","includes","parentNode","removeChild","permissionCenter_permissionSizer","render","_vm","this","_h","$createElement","_c","_self","on","change","handleRolesChange","_v","name","rawName","expression","staticClass","attrs","type","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"wHAkCAA,GACAC,KADA,WAEA,UAIAC,YACAC,YCpCEC,SAFY,SAEHC,EAAIC,EAASC,GAAO,IACnBC,EAAUF,EAAVE,MACFC,EAAQC,IAAMC,SAAWD,IAAMC,QAAQF,MAE7C,KAAID,GAASA,aAAiBI,OAASJ,EAAMK,OAAS,GAYpD,MAAM,IAAIC,MAAJ,wDAXN,IAAMC,EAAkBP,EAEFC,EAAMO,KAAK,SAAAC,GAC/B,OAAOF,EAAgBG,SAASD,MAIhCZ,EAAGc,YAAcd,EAAGc,WAAWC,YAAYf,OCdpCgB,GADEC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAAAA,EAAA,gBAA8CE,IAAIC,OAAAP,EAAAQ,qBAAgCR,EAAAS,GAAA,KAAAL,EAAA,OAAAA,EAAA,QAAmCzB,aAAa+B,KAAA,aAAAC,QAAA,eAAA1B,OAAA,SAAA2B,WAAA,cAAkFC,YAAA,qBAAiCb,EAAAS,GAAA,+CAAAL,EAAA,aAAwEU,OAAOC,KAAA,aAAkBf,EAAAS,GAAA,WAAAT,EAAAS,GAAA,KAAAL,EAAA,aAAgDU,OAAOC,KAAA,YAAiBf,EAAAS,GAAA,cAAAT,EAAAS,GAAA,KAAAL,EAAA,QAA8CzB,aAAa+B,KAAA,aAAAC,QAAA,eAAA1B,OAAA,UAAA2B,WAAA,eAAoFC,YAAA,qBAAiCb,EAAAS,GAAA,gDAAAL,EAAA,aAAyEU,OAAOC,KAAA,aAAkBf,EAAAS,GAAA,QAAAT,EAAAS,GAAA,KAAAL,EAAA,aAA6CU,OAAOC,KAAA,UAAef,EAAAS,GAAA,cAAAT,EAAAS,GAAA,KAAAL,EAAA,QAA8CzB,aAAa+B,KAAA,aAAAC,QAAA,eAAA1B,OAAA,UAAA2B,WAAA,eAAoFC,YAAA,qBAAiCb,EAAAS,GAAA,2DAAAL,EAAA,aAAoFU,OAAOC,KAAA,aAAkBf,EAAAS,GAAA,UAAAT,EAAAS,GAAA,KAAAL,EAAA,aAA+CU,OAAOC,KAAA,aAAkBf,EAAAS,GAAA,UAAAT,EAAAS,GAAA,KAAAL,EAAA,aAA+CU,OAAOC,KAAA,UAAef,EAAAS,GAAA,UAAAT,EAAAS,GAAA,KAAAL,EAAA,aAA+CU,OAAOC,KAAA,aAAkBf,EAAAS,GAAA,UAAAT,EAAAS,GAAA,KAAAL,EAAA,aAA+CU,OAAOC,KAAA,YAAiBf,EAAAS,GAAA,uBAEp3CO,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE1C,EACAqB,GATF,EAVA,SAAAsB,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/14.d1ee39d669d82b173114.js","sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n      <switch-roles @change=\"handleRolesChange\" />\r\n      <div>\r\n        <span v-permission=\"['admin']\" class=\"permission-alert\">\r\n          Only admin can see this\r\n          <el-button type=\"warning\">admin</el-button>\r\n          <el-button type=\"danger\">危险按钮</el-button>\r\n        </span>\r\n\r\n        <span  v-permission=\"['editor']\"  class=\"permission-alert\">\r\n          Only editor can see this\r\n          <el-button type=\"success\">编辑</el-button>\r\n          <el-button type=\"info\">信息按钮</el-button>\r\n        </span>\r\n\r\n        <span v-permission=\"['editor']\" class=\"permission-alert\">\r\n          as adminand and editor can see this\r\n          <el-button type=\"primary\">主要按钮</el-button>\r\n          <el-button type=\"success\">成功按钮</el-button>\r\n          <el-button type=\"info\">信息按钮</el-button>\r\n          <el-button type=\"warning\">警告按钮</el-button>\r\n          <el-button type=\"danger\">危险按钮</el-button>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport permission from '@/directives/permission'\r\n\r\n\r\nexport default {\r\n  data(){\r\n    return{\r\n\r\n    }\r\n  },\r\n  directives:{\r\n    permission\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/permissionCenter/permissionSizer.vue","\r\nimport store from '@/store'\r\n\r\nexport default{\r\n  // inserted函数：当被绑定的元素插入到 DOM 中时……\r\n  inserted(el, binding, vnode) {\r\n    const { value } = binding  // 获取指令绑定的值;\r\n    const roles = store.getters && store.getters.roles //用户本身的roles信息,arr;\r\n\r\n    if (value && value instanceof Array && value.length > 0) {\r\n      const permissionRoles = value\r\n\r\n      const hasPermission = roles.some(role => { // 只要有一个满足即返回true\r\n        return permissionRoles.includes(role)\r\n      })\r\n      // 没有该指令,直接删除掉该指令元素;即页面不显示没有指令权限的按钮;\r\n      if (!hasPermission) {\r\n        el.parentNode && el.parentNode.removeChild(el)\r\n        // 因项目需要，本指令remove其父元素;一般情况下，只隐藏其本身;\r\n      }\r\n    } else {\r\n      throw new Error(`need roles! Like v-permission=\"['admin','editor']\"`)\r\n    }\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/permission.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('switch-roles',{on:{\"change\":_vm.handleRolesChange}}),_vm._v(\" \"),_c('div',[_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['admin']),expression:\"['admin']\"}],staticClass:\"permission-alert\"},[_vm._v(\"\\n        Only admin can see this\\n        \"),_c('el-button',{attrs:{\"type\":\"warning\"}},[_vm._v(\"admin\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\"}},[_vm._v(\"危险按钮\")])],1),_vm._v(\" \"),_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['editor']),expression:\"['editor']\"}],staticClass:\"permission-alert\"},[_vm._v(\"\\n        Only editor can see this\\n        \"),_c('el-button',{attrs:{\"type\":\"success\"}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"info\"}},[_vm._v(\"信息按钮\")])],1),_vm._v(\" \"),_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['editor']),expression:\"['editor']\"}],staticClass:\"permission-alert\"},[_vm._v(\"\\n        as adminand and editor can see this\\n        \"),_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"主要按钮\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\"}},[_vm._v(\"成功按钮\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"info\"}},[_vm._v(\"信息按钮\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"warning\"}},[_vm._v(\"警告按钮\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\"}},[_vm._v(\"危险按钮\")])],1)])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-44e5d27f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/permissionCenter/permissionSizer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-44e5d27f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./permissionSizer.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./permissionSizer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./permissionSizer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-44e5d27f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./permissionSizer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/permissionCenter/permissionSizer.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}