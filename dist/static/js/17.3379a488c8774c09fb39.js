webpackJsonp([17],{IRQr:function(e,o){},"T+/8":function(e,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n={name:"login",data:function(){return{loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:function(e,o,s){o.trim().length>=3?s():s(new Error("请输入正确的用户名"))}}],password:[{required:!0,trigger:"blur",validator:function(e,o,s){o.length<3?s(new Error("密码小于3位")):s()}}]},pwdshow:!1,loading:!1,pwdType:"password",dialogVisible:!1,supportDialogVisible:!1}},methods:{showPwd:function(){"password"===this.pwdType?(this.pwdType="",this.pwdshow=!0):(this.pwdType="password",this.pwdshow=!1)},handleLogin:function(){var e=this;console.log("login"),this.$refs.loginForm.validate(function(o){if(!o)return console.log("参数验证不合法！"),!1;e.loading=!0,console.log("valid name and pw"),e.$store.dispatch("Login",e.loginForm).then(function(){e.loading=!1,e.$router.push({path:"/"})}).catch(function(o){console.log("err in handleLogin",o),e.loading=!1})})}}},t={render:function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("div",{staticClass:"background"},[s("el-card",{staticClass:"login-form-layout"},[s("el-form",{ref:"loginForm",attrs:{model:e.loginForm,rules:e.loginRules}},[s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{placeholder:"请输入用户名",name:"username",type:"text"},model:{value:e.loginForm.username,callback:function(o){e.$set(e.loginForm,"username",o)},expression:"loginForm.username"}},[s("span",{attrs:{slot:"prefix"},slot:"prefix"},[s("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"login-user",sizeStyle:"normal"}})],1)])],1),e._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{placeholder:"请输入密码",name:"password",type:e.pwdType},nativeOn:{keyup:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(o){e.$set(e.loginForm,"password",o)},expression:"loginForm.password"}},[s("span",{attrs:{slot:"prefix"},slot:"prefix"},[s("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"login-pw",sizeStyle:"normal"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.pwdshow,expression:"pwdshow"}],attrs:{slot:"suffix"},on:{click:e.showPwd},slot:"suffix"},[s("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"pwInvisible",sizeStyle:"normal"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.pwdshow,expression:"!pwdshow"}],attrs:{slot:"suffix"},on:{click:e.showPwd},slot:"suffix"},[s("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"pwVisible",sizeStyle:"normal"}})],1)])],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-bottom":"60px","text-align":"center"}},[s("el-button",{staticStyle:{width:"45%"},attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(o){return o.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e._v("登录")])],1)],1)],1)],1)},staticRenderFns:[]};var i=s("VU/8")(n,t,!1,function(e){s("IRQr")},null,null);o.default=i.exports}});
//# sourceMappingURL=17.3379a488c8774c09fb39.js.map